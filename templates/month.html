<!DOCTYPE html>
<html>
<head>
    <title>Monthly Bills</title>
    <!-- Link to the CSS stylesheet -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
    <body>
        <!-- A form for adding a new entry -->
        <form method="POST">
            <!-- Input for the due date -->
            <label for="due_date">Due Date</label>
            <input type="date" id="due_date" name="due_date" required aria-label="Due Date">
            <!-- Input for the bill name -->
            <label for="bill_name">Bill Name</label>
            <input type="text" id="bill_name" name="bill_name" required aria-label="Bill Name">
            <!-- Input for the amount due -->
            <label for="amount_due">Amount Due</label>
            <input type="number" id="amount_due" name="amount_due" required aria-label="Amount Due">
            <!-- Submit button for the form -->
            <button type="submit">Submit</button>
        </form>
        <h1>Bills for {{ month_names[month-1] }} {{ year }}</h1>
        <!-- Dropdown for each month -->
        <div class="dropdown-container">
            <label for="monthDropdown">Month:</label>
            <select id="monthDropdown" onchange="location = this.value;">
            {% for month_number in range(1, 13) %}
                <option value="{{ url_for('month_view', year=year, month=month_number) }}"
                    {% if month_number == month %} selected {% endif %}>
                    {{ month_names[month_number-1] }}
                </option>
            {% endfor %}
            </select>

            <label for="yearDropdown">Year:</label>
            <select id="yearDropdown" onchange="location = this.value;">
            {% for y in years %}
                <option value="{{ url_for('month_view', year=y[0], month=month) }}"
                    {% if y[0] == year %} selected {% endif %}>
                    {{ y[0] }}
                </option>
            {% endfor %}
            </select>
        </div>
        <div>
            <a href="{{ url_for('month_view', year=now.year, month=now.month) }}">This Month's Bills</a>
            <a href="{{ url_for('home') }}">Upcoming Bills</a>
        </div>


        <table class="amountTotalTable">
            <thead>
                <tr>
                    <th>Due Date</th>
                    <th>Bill Name</th>
                    <th>Amount Due</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in entries %}
                    <tr>
                        <td>{{ entry.due_date }}</td>
                        <td>{{ entry.bill_name }}</td>
                        <td>{{ entry.amount_due }}</td>
                        <td>
                            <a href="{{ url_for('edit', id=entry.id) }}">Edit</a>
                            <a href="{{ url_for('delete', id=entry.id) }}">Delete</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
            <!-- Your table headers and data rows here -->      
            <tr>
                <td colspan="2"> Total Due This Month</td>
                <td colspan="1" id="totalAmountCell">{{ total_due }}</td>
            </tr>
        </table>
    <footer>
        <!-- Footer information -->
        <p>Â© 2024 My Budget</p>
    </footer>
</body>
</html>